# 🔑 AI模型API设置指南

本指南将帮助您获取各种AI模型的API密钥，特别是国内免费的AI生图服务。

## 📋 支持的AI模型概览

| 模型 | 提供商 | 费用 | 免费额度 | 质量 | 速度 |
|------|--------|------|----------|------|------|
| **免费模型** |
| CogView-3 | 智谱AI | 🆓 免费额度 | 每日100次 | 高 | 快 |
| 文心一格 | 百度 | 🆓 免费额度 | 每日50次 | 高 | 快 |
| 通义万相 | 阿里云 | 🆓 免费额度 | 每月500次 | 高 | 快 |
| 混元DiT | 腾讯云 | 🆓 免费额度 | 每日100次 | 高 | 快 |
| 星火绘画 | 科大讯飞 | 🆓 免费额度 | 每日20次 | 中等 | 快 |
| Stable Diffusion XL | 本地部署 | 🆓 免费（本地） | 无限制 | 高 | 慢 |
| **付费模型** |
| DALL-E 3 | OpenAI | 💰 付费 | - | 极高 | 中等 |
| DALL-E 2 | OpenAI | 💰 付费 | - | 高 | 快 |
| Midjourney V6 | Midjourney | 💰 付费 | 25次试用 | 极高 | 慢 |

## 🆓 免费模型API获取指南

### 1. 智谱AI (CogView-3) - 推荐 ⭐

**免费额度**: 每日100次生图

**获取步骤**:
1. 访问 [智谱AI开放平台](https://open.bigmodel.cn)
2. 注册账号并登录
3. 进入控制台 → API密钥管理
4. 创建新的API密钥
5. 复制API密钥到软件中

**优势**:
- 免费额度较大
- 生图质量高
- 支持中文提示词
- API稳定

### 2. 百度文心一格 - 稳定

**免费额度**: 每日50次生图

**获取步骤**:
1. 访问 [百度智能云](https://cloud.baidu.com)
2. 注册并登录账号
3. 进入控制台 → 人工智能 → 文心一格
4. 创建应用，获取API Key和Secret Key
5. 将两个密钥都输入到软件中

**优势**:
- 大厂产品，稳定性好
- 中文优化
- 商业化程度高

### 3. 阿里云通义万相 - 额度最大

**免费额度**: 每月500次生图

**获取步骤**:
1. 访问 [阿里云控制台](https://dashscope.console.aliyun.com)
2. 注册阿里云账号
3. 开通通义万相服务
4. 创建API密钥
5. 复制API密钥到软件中

**优势**:
- 免费额度最大
- 阿里云生态支持
- 企业级稳定性

### 4. 腾讯云混元DiT

**免费额度**: 每日100次生图

**获取步骤**:
1. 访问 [腾讯云控制台](https://console.cloud.tencent.com)
2. 注册腾讯云账号
3. 开通混元大模型服务
4. 创建API密钥，获取SecretId和SecretKey
5. 将两个密钥都输入到软件中

**优势**:
- 腾讯大厂技术
- 免费额度适中
- 支持多种风格

### 5. 科大讯飞星火绘画

**免费额度**: 每日20次生图

**获取步骤**:
1. 访问 [讯飞开放平台](https://www.xfyun.cn)
2. 注册并登录
3. 创建星火绘画应用
4. 获取API密钥
5. 输入到软件中

**优势**:
- 科大讯飞技术
- 免费使用
- 适合轻度使用

### 6. Stable Diffusion (本地部署) - 完全免费

**免费额度**: 无限制

**部署步骤**:
1. 安装Python 3.8+
2. 克隆Stable Diffusion WebUI
   ```bash
   git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git
   cd stable-diffusion-webui
   ```
3. 运行启动脚本
   ```bash
   ./webui.sh  # Linux/Mac
   webui-user.bat  # Windows
   ```
4. 访问 http://localhost:7860
5. 在软件中填入API地址: `http://localhost:7860`

**优势**:
- 完全免费
- 无限次数
- 可自定义模型
- 隐私保护

## 💰 付费模型API获取

### OpenAI (DALL-E)

**获取步骤**:
1. 访问 [OpenAI平台](https://platform.openai.com)
2. 注册账号并验证
3. 前往API密钥页面
4. 创建新的API密钥
5. 充值账户余额
6. 输入API密钥到软件

**费用**: 
- DALL-E 3: $0.040/张 (1024×1024)
- DALL-E 2: $0.020/张 (1024×1024)

### Midjourney

**获取步骤**:
1. 访问第三方Midjourney API服务商
2. 购买API服务
3. 获取API密钥
4. 输入到软件中

**注意**: Midjourney官方未提供直接API，需要使用第三方服务

## ⚙️ 在软件中配置API

### 配置步骤:
1. 启动软件 (`streamlit run app.py`)
2. 在侧边栏选择要使用的AI模型
3. 在"API密钥配置"部分输入对应的密钥
4. 看到"✅ 已配置"提示即可开始使用

### 配置示例:

#### 智谱AI:
```
API Key: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### 百度文心一格:
```
API Key: xxxxxxxxxxxxxxxxxxxxxx
Secret Key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### 阿里云通义万相:
```
API Key: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### 腾讯云混元DiT:
```
Secret ID: xxxxxxxxxxxxxxxxxxxxxx
Secret Key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

## 🔧 故障排除

### 常见问题:

#### 1. API密钥无效
- 检查密钥是否正确复制
- 确认账号是否已开通对应服务
- 检查是否有足够的免费额度

#### 2. 网络连接失败
- 检查网络连接
- 确认防火墙设置
- 尝试使用VPN（如果需要）

#### 3. 免费额度用完
- 等待额度重置时间
- 切换到其他免费模型
- 考虑升级为付费版本

#### 4. 生成失败
- 检查提示词是否包含敏感内容
- 尝试简化提示词
- 检查图片尺寸设置

## 💡 使用建议

### 选择模型的建议:

1. **新手推荐**: 智谱AI CogView-3
   - 免费额度大
   - 中文支持好
   - 配置简单

2. **企业用户**: 阿里云通义万相
   - 免费额度最大
   - 企业级支持
   - 稳定可靠

3. **高质量需求**: OpenAI DALL-E 3
   - 质量最高
   - 英文提示词效果好
   - 需要付费

4. **无限使用**: 本地Stable Diffusion
   - 完全免费
   - 无次数限制
   - 需要技术能力

### 提示词优化建议:

1. **中文模型**: 直接使用中文提示词
2. **英文模型**: 使用英文或翻译后的英文
3. **避免敏感词**: 不要包含暴力、色情等内容
4. **详细描述**: 包含风格、颜色、构图等细节

## 📞 技术支持

如果在配置过程中遇到问题:

1. 查看对应平台的官方文档
2. 检查API调用限制和配额
3. 联系对应平台的技术支持
4. 在软件GitHub仓库提交Issue

---

**💡 小贴士**: 建议配置多个免费模型，这样当一个额度用完时可以切换到另一个，保证工作连续性！