# 🎨 智能电商主图与详情页生成器

一个基于AI的智能工具，可以根据提供的文章内容和模板图片，自动生成吸引人的电商主图和详情页，并严格避免使用平台违禁词。

## ✨ 核心功能

### 📝 文章分析
- **实时违禁词检测**：自动检测并提供替换建议
- **关键词提取**：智能提取文章核心关键词
- **卖点分析**：自动识别文章中的核心卖点
- **标题优化**：生成多个标题变体供选择

### 🖼️ 模板处理
- **模板上传**：支持多种图片格式（PNG、JPG、JPEG、WebP）
- **样式分析**：自动分析模板的颜色、布局和文字区域
- **参考成品**：上传成品图片进行样式匹配
- **智能渲染**：在模板上精确渲染文字内容

### 🎯 主图生成
- **模板渲染**：基于上传的模板进行文字渲染
- **AI生成**：使用DALL-E等AI模型生成全新主图
- **混合模式**：结合模板和AI的优势
- **样式控制**：精确控制字体大小、颜色和位置

### 📄 详情页生成
- **智能布局**：根据文章内容自动生成详情页结构
- **多种章节**：产品亮点、核心特色、用户收益等
- **风格定制**：多种设计风格可选
- **导出功能**：支持HTML和JSON格式导出

## 🚀 快速开始

### 环境要求
- Python 3.8+
- 2GB+ 内存
- 网络连接（用于AI生图）

### 安装方法

#### 方法一：自动安装（推荐）
```bash
# 克隆项目
git clone [项目地址]
cd ecommerce-image-generator

# 运行启动脚本（会自动安装依赖）
python run.py
```

#### 方法二：手动安装
```bash
# 安装依赖
pip install -r requirements.txt

# 启动应用
streamlit run app.py
```

### 配置说明

1. **OpenAI API配置**（用于AI生图）
   - 在侧边栏输入您的OpenAI API密钥
   - 支持DALL-E 2和DALL-E 3模型
   - 可选择图片尺寸和质量

2. **样式偏好设置**
   - 配色方案：现代商务、活力橙色、简约黑白等
   - 设计风格：现代简约、商务专业、活力时尚等

## 📖 使用指南

### 步骤1：输入文章信息
1. 在"文章输入与分析"标签页输入文章标题和内容
2. 系统会实时分析违禁词、关键词和卖点
3. 根据提示修改违禁词

### 步骤2：上传模板图片
1. 在"模板上传与分析"标签页上传模板框架
2. 可选择上传参考成品图片
3. 点击"分析模板"查看分析结果

### 步骤3：生成主图
1. 在"主图生成"标签页选择标题变体
2. 配置字体样式和颜色
3. 选择生成方式：模板渲染或AI生成
4. 点击"开始生成主图"

### 步骤4：生成详情页
1. 在"详情页生成"标签页选择页面风格
2. 勾选需要包含的章节
3. 点击"生成详情页"查看预览
4. 导出为HTML或JSON格式

## 🛠️ 技术架构

### 核心模块

#### TextProcessor（文本处理器）
- 违禁词检测和替换建议
- 关键词提取和分词
- 卖点自动识别
- 文本优化和长度控制

#### ImageProcessor（图片处理器）
- 模板分析和区域检测
- 颜色提取和样式分析
- 文字渲染和位置计算
- 图片效果和滤镜处理

#### AIGenerator（AI生成器）
- OpenAI API集成
- 提示词智能生成
- 文本优化和改写
- 详情页布局设计

### 技术栈
- **前端**：Streamlit（Web界面）
- **图片处理**：PIL、OpenCV
- **文本处理**：jieba分词
- **AI集成**：OpenAI API
- **数据处理**：pandas、numpy

## ⚙️ 配置文件

### config.py
- AI模型配置
- 违禁词列表
- 默认字体配置
- 图片尺寸设置

### requirements.txt
- 项目依赖包列表
- 版本号固定，确保兼容性

## 🔧 自定义扩展

### 添加新的AI模型
```python
# 在config.py中添加新模型
AI_MODELS = {
    "your_model": {
        "name": "Your Model",
        "max_resolution": "1024x1024",
        "supports_text": True
    }
}
```

### 扩展违禁词库
```python
# 在config.py中添加新的违禁词
FORBIDDEN_WORDS.extend([
    "新违禁词1",
    "新违禁词2"
])
```

### 自定义样式模板
```python
# 在DEFAULT_FONT_CONFIG中添加新样式
"new_style": {
    "size": 28,
    "color": "#000000",
    "weight": "normal",
    "family": "Arial"
}
```

## 📊 功能特性

### 智能特性
- ✅ 自动违禁词检测和替换
- ✅ 智能关键词提取
- ✅ 卖点自动识别
- ✅ 模板智能分析
- ✅ AI提示词生成

### 用户体验
- ✅ 实时预览
- ✅ 拖拽上传
- ✅ 一键下载
- ✅ 响应式设计
- ✅ 进度提示

### 输出格式
- ✅ 高质量PNG图片
- ✅ 标准HTML页面
- ✅ JSON配置文件
- ✅ 多种尺寸支持

## 🔍 常见问题

### Q: 为什么AI生图失败？
A: 请检查：
1. OpenAI API密钥是否正确
2. 账户余额是否充足
3. 网络连接是否正常
4. 提示词是否包含敏感内容

### Q: 如何提高生成质量？
A: 建议：
1. 提供清晰的文章内容
2. 使用高质量的模板图片
3. 调整字体大小和颜色
4. 选择合适的AI模型

### Q: 违禁词检测不准确怎么办？
A: 可以：
1. 在config.py中更新违禁词列表
2. 手动检查和修改文本
3. 使用替换建议
4. 联系开发者更新词库

## 📝 更新日志

### v1.0.0
- ✅ 基础功能实现
- ✅ 违禁词检测
- ✅ 模板渲染
- ✅ AI生图集成
- ✅ 详情页生成

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

1. Fork本项目
2. 创建功能分支
3. 提交代码
4. 发起Pull Request

## 📄 许可证

MIT License - 详见LICENSE文件

## 💡 支持与反馈

如有问题或建议，请：
1. 提交GitHub Issue
2. 联系开发团队
3. 查看文档和FAQ

---

**⭐ 如果这个项目对您有帮助，请给个Star支持一下！**
